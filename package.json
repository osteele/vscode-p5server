{
  "name": "p5-server",
  "displayName": "P5 Server",
  "description": "Create and run p5.js sketches, browse and run collections. Includes a sketch-aware live server, a tree view of a workspace's sketches, and automatic libraries.",
  "license": "MIT",
  "version": "1.0.0",
  "publisher": "osteele",
  "author": {
    "name": "Oliver Steele",
    "email": "steele@osteele.com"
  },
  "engines": {
    "vscode": "^1.58.0"
  },
  "categories": [
    "Other"
  ],
  "icon": "images/icon.png",
  "galleryBanner": {
    "color": "#E7EEFD",
    "theme": "light"
  },
  "keywords": [
    "live reload",
    "web server",
    "p5",
    "p5.js"
  ],
  "bugs": {
    "url": "https://github.com/osteele/vscode-p5server/issues"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/osteele/vscode-p5server.git"
  },
  "homepage": "https://github.com/osteele/vscode-p5server#readme",
  "activationEvents": [
    "onView:p5sketchExplorer",
    "workspaceContains:**/*.js"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "p5-server.start",
        "title": "P5 Server: Start",
        "enablement": "p5-server.available"
      },
      {
        "command": "p5-server.stop",
        "title": "P5 Server: Stop",
        "enablement": "p5-server.available"
      },
      {
        "command": "p5-server.openInBrowser",
        "title": "P5 Server: Open In Browser",
        "icon": "$(globe)",
        "enablement": "p5-server.available"
      },
      {
        "command": "p5-server.createSketchFile",
        "title": "Create a p5.js Sketch File",
        "icon": "$(file-add)"
      },
      {
        "command": "p5-server.createSketchFolder",
        "title": "Create a p5.js Sketch Folder",
        "icon": "$(file-directory-create)"
      },
      {
        "command": "p5-explorer.refresh",
        "title": "p5.js Explorer: Refresh",
        "enablement": "view == p5sketchExplorer",
        "icon": "$(refresh)"
      },
      {
        "command": "p5-explorer.createFolder",
        "title": "Create Folder",
        "enablement": "view == p5sketchExplorer"
      },
      {
        "command": "p5-explorer.duplicateSelectedSketch",
        "title": "Duplicate",
        "enablement": "view == p5sketchExplorer"
      },
      {
        "command": "p5-explorer.openSelectedItem",
        "title": "Open in editor",
        "enablement": "view == p5sketchExplorer",
        "icon": "$(go-to-file)"
      },
      {
        "command": "p5-explorer.runSelectedFile",
        "title": "Run in browser",
        "enablement": "view == p5sketchExplorer",
        "icon": "$(run)"
      }
    ],
    "configuration": {
      "title": "P5 Server",
      "properties": {
        "p5-server.browser": {
          "type": "string",
          "default": "integrated",
          "enum": [
            "integrated",
            "default",
            "Chrome",
            "Edge",
            "Firefox",
            "Safari"
          ],
          "description": "The browser to use for opening sketches.",
          "enumDescriptions": [
            "Open sketches in a pane inside Visual Studio Code.",
            "Open sketches in the system default browser",
            "Open sketches in Chrome. If Chrome is not installed, use the system default browser.",
            "Open sketches in Edge. If Edge is not installed, use the system default browser.",
            "Open sketches in Firefox. If Firefox is not installed, use the system default browser.",
            "Open sketches in Safari. If Safari is not installed, use the system default browser."
          ]
        },
        "p5-server.console.integratedBrowser.autoShow.level": {
          "type": "string",
          "default": "always",
          "enum": [
            "always",
            "never",
            "error",
            "warn",
            "log",
            "info"
          ],
          "enumDescriptions": [
            "Open the integrated console for any message",
            "Never open the integrated P5 console automatically",
            "Open the integrated console for errors",
            "Open the integrated console for warnings and errors",
            "Open the integrated console for log, warnings and errors",
            "Open the integrated console for info, log, warnings and errors"
          ],
          "description": "Open the integated p5 console when the browser is set to the integrated browser, and a sketch calls a console method or an error occurs."
        },
        "p5-server.console.externalBrowser.autoShow.level": {
          "type": "string",
          "default": "error",
          "enum": [
            "always",
            "never",
            "error",
            "warn",
            "log",
            "info"
          ],
          "enumDescriptions": [
            "Open the integrated console for any message",
            "Never open the integrated P5 console automatically",
            "Open the integrated console for errors",
            "Open the integrated console for warnings and errors",
            "Open the integrated console for log, warnings and errors",
            "Open the integrated console for info, log, warnings and errors"
          ],
          "description": "Open the integated p5 console when the browser is not set to the integrated browser, and a sketch calls a console method or an error occurs."
        },
        "p5-server.editorTitle.RunIcon.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Controls whether to show the “Open In Browser” icon in the editor title menu."
        },
        "p5-server.statusBar.browserItem.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Controls whether to show the “P5 Browser” item in the status bar."
        },
        "p5-server.statusBar.serverItem.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Controls whether to show the “P5 Server” item in the status bar."
        }
      }
    },
    "menus": {
      "editor/title": [
        {
          "command": "p5-server.openInBrowser",
          "when": "p5-server.runIconEnabled && p5-server.available && resourceExtname =~ /\\.(js|html)/",
          "group": "navigation"
        }
      ],
      "view/title": [
        {
          "command": "p5-explorer.refresh",
          "when": "view == p5sketchExplorer",
          "group": "navigation"
        },
        {
          "command": "p5-server.createSketchFile",
          "when": "view == p5sketchExplorer",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "p5-explorer.openSelectedItem",
          "when": "view == p5sketchExplorer && viewItem =~ /file|sketch/",
          "group": "inline"
        },
        {
          "command": "p5-explorer.runSelectedFile",
          "when": "view == p5sketchExplorer && viewItem =~ /file|sketch/",
          "group": "inline"
        },
        {
          "command": "p5-explorer.openSelectedItem",
          "when": "view == p5sketchExplorer && viewItem =~ /file|sketch/",
          "group": "1_open"
        },
        {
          "command": "p5-explorer.runSelectedFile",
          "when": "view == p5sketchExplorer && viewItem =~ /file|sketch/",
          "group": "2_run"
        },
        {
          "command": "p5-explorer.createFolder",
          "when": "view == p5sketchExplorer && viewItem == directory",
          "group": "3_fileoperations"
        },
        {
          "command": "p5-explorer.duplicateSelectedSketch",
          "when": "view == p5sketchExplorer && viewItem == sketch",
          "group": "3_fileoperations"
        }
      ]
    },
    "views": {
      "p5js-sketch-explorer": [
        {
          "id": "p5sketchExplorer",
          "name": "Sketches",
          "icon": "resources/light/sketch.svg",
          "contextualTitle": "P5.js Sketch Explorer"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "p5sketchExplorer",
        "contents": "Create a sketch to get started.\n[Create p5.js Sketch File](command:p5-server.createSketchFile)\n[Create p5.js Sketch Folder](command:p5-server.createSketchFolder)",
        "when": "workbenchState != empty && p5-explorer.loaded"
      },
      {
        "view": "p5sketchExplorer",
        "contents": "Open a folder to get started.\n[Open Folder](command:workbench.action.files.openFileFolder)",
        "when": "workbenchState == empty"
      },
      {
        "view": "p5sketchExplorer",
        "contents": "Please wait for the sketch explorer to finish loading.",
        "when": "workbenchState != empty && !p5-explorer.loaded"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "p5js-sketch-explorer",
          "title": "P5.js Sketch Explorer",
          "icon": "resources/light/sketch.svg"
        }
      ]
    }
  },
  "scripts": {
    "compile": "tsc -p ./",
    "format": "prettier-eslint --write \"{,!(node_modules)/**/}*.ts\"",
    "lint": "eslint src --ext ts",
    "pretest": "npm run compile && npm run lint",
    "test": "node ./out/test/runTest.js",
    "package": "vsce package",
    "prepare": "husky install",
    "p5-server:link": "npm uninstall --no-save p5-server && npm link ../p5-server",
    "p5-server:unlink": "npm unlink --no-save p5-server && npm install p5-server",
    "publish": "vsce publish",
    "vscode:prepublish": "npm run compile",
    "watch": "tsc -watch -p ./"
  },
  "dependencies": {
    "open": "^8.2.1",
    "p5-server": "0.5.0"
  },
  "devDependencies": {
    "@types/glob": "^7.1.3",
    "@types/mocha": "^8.2.2",
    "@types/node": "14.x",
    "@types/vscode": "^1.58.0",
    "@typescript-eslint/eslint-plugin": "^4.26.0",
    "@typescript-eslint/parser": "^4.26.0",
    "eslint": "^7.27.0",
    "glob": "^7.1.7",
    "husky": "^7.0.1",
    "mocha": "^8.4.0",
    "prettier-eslint-cli": "^5.0.1",
    "typescript": "^4.3.2",
    "vscode-test": "^1.5.2"
  }
}
